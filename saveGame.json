{"ShipDef":{"comDefs":[{"type":"PowerCore","name":"","x":14,"y":10,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"Engine","name":"l","x":0,"y":0,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"1","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""},{"key":"EnginePower","initData":"","handlerName":""}]},{"type":"BasicHull","name":"","x":1,"y":1,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":2,"y":1,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":3,"y":1,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":4,"y":1,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"Engine","name":"r","x":5,"y":0,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"2","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""},{"key":"EnginePower","initData":"","handlerName":""}]},{"type":"PowerCore","name":"","x":2,"y":2,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":1,"y":2,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":1,"y":3,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":4,"y":2,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":4,"y":3,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":2,"y":4,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":3,"y":4,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":2,"y":5,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":3,"y":5,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":2,"y":6,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":3,"y":6,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"Cannon","name":"mainCannon","x":2,"y":7,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""},{"key":"IsShooting","initData":"","handlerName":""}]},{"type":"BasicHull","name":"","x":16,"y":9,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":16,"y":10,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":16,"y":11,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":16,"y":12,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":16,"y":13,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"PowerCore","name":"","x":17,"y":10,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"PowerCore","name":"","x":14,"y":13,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"PowerCore","name":"","x":17,"y":13,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":17,"y":12,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":18,"y":12,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":19,"y":12,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":15,"y":12,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":14,"y":12,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":13,"y":12,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":16,"y":14,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":16,"y":15,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":7,"y":15,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":7,"y":16,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":8,"y":15,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":7,"y":14,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":7,"y":13,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":7,"y":12,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":7,"y":17,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":7,"y":18,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"BasicHull","name":"","x":7,"y":11,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""}]},{"type":"Engine","name":"","x":11,"y":12,"rotation":3,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""},{"key":"EnginePower","initData":"3","handlerName":""}]},{"type":"Engine","name":"","x":20,"y":12,"rotation":1,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""},{"key":"EnginePower","initData":"3","handlerName":""}]},{"type":"Engine","name":"","x":16,"y":7,"rotation":0,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""},{"key":"EnginePower","initData":"3","handlerName":""}]},{"type":"Engine","name":"","x":16,"y":16,"rotation":2,"properties":[{"key":"Health","handlerName":""},{"key":"PowerRequested","handlerName":""},{"key":"RequestLevel","initData":"","handlerName":""},{"key":"HasFullPower","handlerName":""},{"key":"PowerReceived","handlerName":""},{"key":"EnginePower","initData":"3","handlerName":""}]}],"code":"//write your own code here\n\nboolean isADown;\nboolean isDDown;\nboolean isMDown;\n\nint focusIndex;\n\nvoid keyDown(String str) {\n   println(str);\n   //println(\"key down\");\n   if (str == \"A\") {\n      isADown = true;\n   }\n   else if (str == \"D\") {\n      isDDown = true;\n   }\n   else if (str == \"M\") {\n      isMDown = true;\n   }\n   else if (str == \"Space\") {\n      setIsShooting(\"mainCannon\", true);\n      println(\"found space\");\n   }\n   else if (str == \"1\") {\n      int l1 = getRequestLevel(\"l\");\n      int l2 = getRequestLevel(\"r\");\n      setRequestLevel(\"l\", l2);\n      setRequestLevel(\"r\", l1);\n   }\n   else if (str == \"2\") {\n      focusIndex++;\n      String focusName = \"myShip\";\n      for (int z = 0; z < focusIndex; z++) focusName += \"#\";\n      setCameraFocus(focusName, true);\n   }\n   else if (str == \"3\") {\n      focusIndex--;\n      String focusName = \"myShip\";\n      for (int z = 0; z < focusIndex; z++) focusName += \"#\";\n      setCameraFocus(focusName, true);\n   }  \n   updateEngine();\n}\n\nvoid keyUp(String str) {\n   //println(\"keyUp\");\n   if (str == \"A\") {\n      isADown = false;\n   }\n   else if (str == \"D\") {\n      isDDown = false;\n   }\n   else if (str == \"M\") {\n      isMDown = false;\n   }\n   else if (str == \"Space\") {\n      setIsShooting(\"mainCannon\", false);\n   }\n   \n   updateEngine();\n}\n\n//update the engine power\nvoid updateEngine() {\n   int power = 3;\n   if (isMDown) {\n      float ang;\n      ang = getAngularVelocity(\"myShip\");\n      println(floatToStr(ang));\n      if (ang < 0) {\n         setEnginePower(\"r\", power);\n         setEnginePower(\"l\", 0);\n      }\n      else {\n         setEnginePower(\"l\", power);\n         setEnginePower(\"r\", 0);\n      }\n   }\n   else if (isADown || isDDown){\n      if (isADown) {\n         setEnginePower(\"r\", power);\n      }\n      else {\n         setEnginePower(\"r\", 0);\n      }\n      if (isDDown) {\n         setEnginePower(\"l\", power);\n      }\n      else {\n         setEnginePower(\"l\", 0);\n      }\n   }\n   else{\n      setEnginePower(\"r\", 0);\n      setEnginePower(\"l\", 0);\n   }\n}\n\nvoid avChanged(float value) {\n   //println(floatToStr(value));\n}","name":"myShip","validated":true,"properties":[{"key":"KeyDown","handlerName":"keyDown"},{"key":"KeyUp","handlerName":"keyUp"},{"key":"AngularVelocity","handlerName":"avChanged"},{"key":"Velocity","handlerName":""},{"key":"CameraFocus","initData":"true","handlerName":""}]}}